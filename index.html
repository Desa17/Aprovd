<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Store</title>

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

<style>

/* ===== RESET ===== */
*{margin:0;padding:0;box-sizing:border-box;}

body{
  font-family:'Roboto',sans-serif;
  background:linear-gradient(180deg,#ffffff 0%,#fff5f7 100%);
  color:#333;
}

/* HEADER */
header{
  background:white;
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:15px 30px;
  box-shadow:0 5px 20px rgba(0,0,0,0.05);
  position:sticky;
  top:0;
  z-index:100;
}

.logo{
  font-size:24px;
  font-weight:700;
  color:#FF002F;
}

.search-box input{
  padding:10px 15px;
  border-radius:30px;
  border:1px solid #eee;
  width:250px;
  transition:0.3s;
}

.search-box input:focus{
  outline:none;
  border:1px solid #FF002F;
}

/* HERO */
.hero{
  height:280px;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  background:linear-gradient(135deg,#FF002F,#ff5b77);
  color:white;
  border-radius:0 0 40px 40px;
  margin-bottom:40px;
}

.hero h2{font-size:32px;font-weight:700;}

/* GRID */
.productos-container{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:30px;
  padding:40px;
}

/* CARD */
.producto{
  background:white;
  border-radius:20px;
  padding:20px;
  box-shadow:0 10px 30px rgba(255,0,47,0.08);
  transition:0.4s;
  position:relative;
}

.producto:hover{
  transform:translateY(-10px);
  box-shadow:0 15px 40px rgba(255,0,47,0.2);
}

/* BADGE */
.badge{
  position:absolute;
  top:15px;
  right:15px;
  padding:5px 12px;
  border-radius:20px;
  font-size:12px;
  font-weight:bold;
  color:white;
}

.disponible{background:#2ecc71;}
.reservado{background:#f39c12;}
.vendido{background:#e74c3c;}

.producto img{
  width:100%;
  border-radius:15px;
  cursor:pointer;
}

.producto h3{margin:15px 0 10px;}

.price{
  font-size:20px;
  font-weight:bold;
  color:#FF002F;
  margin:10px 0;
}

button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:30px;
  background:linear-gradient(135deg,#FF002F,#cc0026);
  color:white;
  font-weight:bold;
  cursor:pointer;
}

#zoomModal{
  display:none;
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.7);
  justify-content:center;
  align-items:center;
}

#zoomModal img{
  max-width:90%;
  max-height:90%;
  border-radius:20px;
}

.loader{
  text-align:center;
  font-size:20px;
  padding:40px;
}

</style>
</head>
<body>

<header>
  <div class="logo">Happy Store</div>
  <div class="search-box">
    <input type="text" id="buscador" placeholder="Buscar juguetes...">
  </div>
</header>

<section class="hero">
  <h2>Descubre juguetes incre√≠bles para todas las edades üéÅ</h2>
</section>

<div id="loader" class="loader">Cargando productos...</div>
<div class="productos-container" id="productos"></div>

<div id="zoomModal" onclick="cerrarModal()">
  <img id="zoomImg">
</div>

<script>

const API_URL = "https://script.google.com/macros/s/AKfycbz5jmczBym2G_VaClZiNriAqYTpF-6qDSnRzWhRaSNHtGlDHECy03PhJT0polNG00endw/exec";

let productosGlobal = [];

async function cargarProductos(){
  try{
    const response = await fetch(API_URL);
    const data = await response.json();
    productosGlobal = data;
    mostrarProductos(data);
    document.getElementById("loader").style.display = "none";
  }catch(error){
    document.getElementById("loader").innerText = "Error al cargar productos";
    console.error(error);
  }
}

function mostrarProductos(lista){
  const contenedor = document.getElementById("productos");
  contenedor.innerHTML = "";

  lista.forEach(producto=>{
    const estadoClase = producto.estado.toLowerCase();

    contenedor.innerHTML += `
      <div class="producto">
        <div class="badge ${estadoClase}">${producto.estado}</div>
        <img src="${producto.imagen}" onclick="zoomImagen('${producto.imagen}')">
        <h3>${producto.nombre}</h3>
        <p class="price">S/ ${producto.precio}</p>
        <button onclick="comprar('${producto.nombre}')">Comprar</button>
      </div>
    `;
  });
}

function comprar(nombre){
  alert("Producto seleccionado: " + nombre);
}

document.getElementById("buscador").addEventListener("input", function(){
  const texto = this.value.toLowerCase();
  const filtrados = productosGlobal.filter(p =>
    p.nombre.toLowerCase().includes(texto)
  );
  mostrarProductos(filtrados);
});

function zoomImagen(src){
  document.getElementById("zoomImg").src = src;
  document.getElementById("zoomModal").style.display = "flex";
}

function cerrarModal(){
  document.getElementById("zoomModal").style.display = "none";
}

cargarProductos();

</script>

</body>
</html>
